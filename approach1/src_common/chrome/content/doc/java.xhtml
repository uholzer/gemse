<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html [
  <!ENTITY  enter  "↵">
  <!ENTITY  esc    "ESC">
  <!ENTITY  ctrl   "CRTL+">
  <!ENTITY  alt    "ALT+">
  <!ENTITY  space  "␣">
]>

<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:internal="http://www.andonyar.com/rec/2008-12/gemse/internalns"
    internal:function="documentation"
    xml:lang="en"
>

<head>
    <title>Gemse 1 Documentation: Activating Java based features</title>
    <link rel="stylesheet" href="../gemse.css" type="text/css" />
</head>

<body>

<h1>Activating Java based features</h1>

<p>Some features of Gemse are implemented using Java. If you do not
need these features, you do not have to worry. However, if you want to
use such a feature, you first have to do some preparations. The
technology Gemse uses to call Java is called LiveConnect.</p>

<h2>Permissions</h2>

<p>Since Gemse has to run the Java code with elevated permissions,
Gemse itself must have full permissions. That means Gemse must run in
the chrome, i.e. you have to install it as Firefox extension or XULRunner 
application.</p>

<h2>Firefox and Java plugin</h2>

<p>You should use at least Firefox 3.6 or XULRunner 1.9.2 respectively.</p>

<p>You should install at least Java 6u17 from Sun and the Java plugin for
Firefox that comes along with it. (If you use XULRunner you have to
make it aware of the plugin. I do not know how one does that. Though, on my
system it works out of the box.)</p>

<p>Older versions probably work as well. Therefore, if you don't like
to update to the above versions, you should try with your older ones
first. Be aware that you might run into weird bugs.</p>

<p>I am not aware of any other Java plugin that implements LiveConnect
than the one from Sun.</p>

<h2>Java libraries</h2>

<p>Usually, the required libraries are shipped along with Gemse. If
you want to update them, modify them, or if you checked out the git
repository (which does not yet contain these libraries), you can read
here where they are located.</p>

<p>If you use Gemse as Firefox extension, the
installation directory is located at <code>extensions/Gemse@andonyar.com</code>
in you profile directory. You can also start Gemse and enter the
command <kbd>:help installation-directory&enter;</kbd>. It prints the
location of the directory where Gemse is installed. (It fails with an
error, if Gemse does not run with full privileges.)</p>

<p>In Gemse's installation directory, you find a folder called
<code>java</code>. Gemse automatically loads all jar files of this
directory. Because it is sometimes easier to place a symbolic link to
a directory somewhere else, all subdirectories are scanned for jar
files as well. But jar files located in deeper folders are not
detected. Instead of jar files, class files can be placed there as
well, using the usual directory structure.</p>

<p>The NTNView makes use of the rendering architecture of 
<a href="https://trac.omdoc.org/jomdoc/">JOMDoc</a>. 
JOMDoc can be obtained from the 
<a href="https://trac.omdoc.org/jomdoc/wiki/Download">JOMDoc download page</a>.
JOMDoc itself depends on a couple of additional libraries. Only those
that are essential for Gemse are shipped along with it. Gemse's
documentation contains <a href="libs.xhtml">a list</a> of those libraries.</p>


</body>

</html>
